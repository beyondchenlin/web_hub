# 项目目录规划（2025-01）

```
index-tts-2/
├── docs/                         # 顶层文档（本文件等）
├── logs/                         # 通用日志输出
├── services/                     # 面向 Web Hub 的服务封装
│   └── tts_service/              # TTS/音色克隆服务适配层
├── shared/                       # 跨模块共享组件（预留）
├── tts/                          # IndexTTS2 相关代码
│   ├── indextts2/                # 原始开源项目（保持原状）
│   └── custom_integration/        # 定制化实现 & 入口脚本
│       ├── integration/          # 论坛集成模块（原 123）
│       ├── run_tts_system.py     # 独立运行入口
│       ├── START_HERE.md         # 使用说明
│       └── RENAME_SUMMARY.md     # 重命名记录
└── web_hub/                      # 分布式任务框架
    ├── cluster_monitor/          # 监控节点
    ├── lightweight/              # 工作节点（视频流水线等）
    ├── modules/                  # 统一任务适配器（新增）
    │   └── tts_adapter/          # TTS 任务适配器
    └── ...                       # 其他既有子目录
```

## 调度与扩展思路

- **监控节点**：继续由 `cluster_monitor` 抓取论坛帖子，解析后写入统一任务队列（预留）。
- **服务层 (`services/`)**：提供任务消费与领域逻辑封装，避免直接耦合底层集成代码。
- **适配器层 (`web_hub/modules/`)**：调度器根据 `task_type` 选择适配器调用，适配器再转调服务层。
- **领域实现 (`tts/custom_integration/integration`)**：保持原有业务逻辑与数据库结构，供服务层复用。
- **共享模块 (`shared/`)**：后续可抽离队列、权限、存储等通用组件，供多模态任务复用。

该结构确保：

1. 原始开源仓库保持独立，便于更新与对比。
2. 定制化代码集中在 `integration`，既能独立运行，也能被 Web Hub 调度。
3. Web Hub 后续新增 `video_adapter/`、`image_adapter/` 等目录即可接入视频/图片处理。
4. 服务层统一封装跨域逻辑，减轻适配器与监控节点的复杂度。
