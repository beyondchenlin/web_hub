# 轻量级视频处理系统环境配置
# 复制此文件为 .env 并根据实际情况修改配置

# ===========================================
# 基础配置
# ===========================================
MODE=lightweight
ENVIRONMENT=development

# ===========================================
# 端口配置
# ===========================================
APP_PORT=8000
REDIS_PORT=6379
MONITOR_PORT=8080

# ===========================================
# Redis配置
# ===========================================
REDIS_DB=0
REDIS_PASSWORD=

# ===========================================
# 处理配置
# ===========================================
# 最大并发视频数量
MAX_CONCURRENT_VIDEOS=5
# 下载工作器数量（建议1个，串行下载）
MAX_DOWNLOAD_WORKERS=1
# 上传工作器数量（建议1个，串行上传）
MAX_UPLOAD_WORKERS=1

# ===========================================
# 资源限制
# ===========================================
# 内存限制（GB）
MAX_MEMORY_GB=8
MEMORY_LIMIT=12G
MEMORY_RESERVATION=4G
# CPU限制
CPU_LIMIT=8
CPU_RESERVATION=2
# 磁盘限制（GB）
MAX_DISK_GB=100

# ===========================================
# 日志配置
# ===========================================
LOG_LEVEL=INFO
LOG_FORMAT=json

# ===========================================
# K8s兼容配置（预留）
# ===========================================
K8S_NAMESPACE=default
K8S_SERVICE_NAME=video-processor
K8S_CLUSTER_NAME=video-cluster

# ===========================================
# 论坛集成配置 - 统一配置源
# ===========================================
FORUM_ENABLED=true
FORUM_CHECK_INTERVAL=10                                    # 统一为10秒高频监控
FORUM_BASE_URL=https://tts.lrtcai.com
FORUM_TARGET_URL=https://tts.lrtcai.com/forum-2-1.html
FORUM_USERNAME=AI剪辑助手                                   # 请修改为您的论坛用户名
FORUM_PASSWORD=594188@lrtcai                               # 请修改为您的论坛密码
FORUM_TARGET_FORUM_ID=2
FORUM_AUTO_REPLY_ENABLED=true
FORUM_TEST_MODE=false

# ===========================================
# 存储配置
# ===========================================
# 视频存储路径
VIDEOS_PATH=./videos
OUTPUT_PATH=./output
TEMP_PATH=./temp
LOGS_PATH=./logs

# 自动清理配置
AUTO_CLEANUP_ENABLED=true
CLEANUP_INTERVAL_HOURS=24
KEEP_PROCESSED_DAYS=7

# ===========================================
# 监控配置
# ===========================================
MONITORING_ENABLED=true
METRICS_INTERVAL=30
HEALTH_CHECK_INTERVAL=60

# ===========================================
# 安全配置
# ===========================================
# API密钥（如果启用API访问）
API_KEY=
# 允许的IP地址（逗号分隔）
ALLOWED_IPS=127.0.0.1,localhost

# ===========================================
# 数据库配置
# ===========================================
DATABASE_PATH=data/forum_posts.db
DATABASE_BACKUP_DIR=data/backups
DATABASE_AUTO_BACKUP=true
DATABASE_BACKUP_INTERVAL_HOURS=24

# ===========================================
# 大模型API配置
# ===========================================
# OpenAI API密钥 (https://platform.openai.com/api-keys)
OPENAI_API_KEY=sk-your-openai-key-here

# 通义千问API密钥 (https://dashscope.console.aliyun.com/)
QWEN_API_KEY=sk-83240104dd3d454d9605d9318956ab1a

# DeepSeek API密钥 (https://platform.deepseek.com/api_keys)
DEEPSEEK_API_KEY=sk-566f4b0578d14afeaeaabea05742af51

# 月之暗面(Kimi) API密钥 (https://platform.moonshot.cn/account/keys)
KIMI_API_KEY=sk-oQ6iL3wtoxSDCIXDVI3HymDDsYZRZY8vF5cQ4q6tMorBM6lG

# 默认使用的模型 (可选值: openai, qwen, g4f, deepseek, kimi)
MODEL_NAME=qwen

# ===========================================
# 开发配置
# ===========================================
DEBUG=false
RELOAD_ON_CHANGE=false
SAVE_DEBUG_FILES=true
