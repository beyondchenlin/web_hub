# ðŸ’» FunClip ç¬¬2å±‚ï¼šCPUå¹³å°å±‚ä¾èµ–
# Layer 2: CPU Platform Dependencies
# 
# èŒè´£ï¼šæä¾›CPUå¹³å°çš„è®¡ç®—åŠ é€Ÿæ”¯æŒ
# å¤§å°ï¼šçº¦150MB
# å¹³å°ï¼šé€šç”¨CPU (Intel/AMD)

# ==========================================
# PyTorch CPUç‰ˆæœ¬
# ==========================================
torch>=2.6.0,<3.0.0
torchaudio>=2.6.0,<3.0.0
torchvision>=0.21.0,<1.0.0

# ==========================================
# CPUä¼˜åŒ–çš„ç§‘å­¦è®¡ç®—
# ==========================================
numba>=0.58.0,<1.0.0
llvmlite>=0.40.0,<1.0.0

# ==========================================
# éŸ³é¢‘å¤„ç†CPUä¼˜åŒ–
# ==========================================
resampy>=0.4.0,<1.0.0

# ==========================================
# è§†é¢‘å¤„ç†CPUæ”¯æŒ
# ==========================================
av>=10.0.0,<11.0.0

# ==========================================
# å›¾åƒå¤„ç†CPUæ”¯æŒ
# ==========================================
imageio>=2.31.0,<3.0.0

# ==========================================
# ç‰ˆæœ¬è¯´æ˜Ž
# ==========================================
# torch (CPUç‰ˆæœ¬): æ”¯æŒCPUå¤šçº¿ç¨‹ä¼˜åŒ–
# numba: JITç¼–è¯‘å™¨ï¼ŒCPUä»£ç åŠ é€Ÿ
# av: FFmpeg Pythonç»‘å®šï¼ŒCPUç¼–è§£ç 

# ==========================================
# CPUä¼˜åŒ–è¯´æ˜Ž
# ==========================================
# 1. è‡ªåŠ¨æ£€æµ‹CPUæ ¸å¿ƒæ•°ï¼Œä¼˜åŒ–å¹¶è¡Œè®¡ç®—
# 2. æ”¯æŒIntel MKLæ•°å­¦åº“åŠ é€Ÿ
# 3. æ”¯æŒOpenMPå¤šçº¿ç¨‹å¹¶è¡Œ
# 4. å†…å­˜ä½¿ç”¨ä¼˜åŒ–ï¼Œé€‚åˆèµ„æºå—é™çŽ¯å¢ƒ

# ==========================================
# éªŒè¯CPUæ”¯æŒ
# ==========================================
# python -c "import torch; print(f'CPUçº¿ç¨‹æ•°: {torch.get_num_threads()}')"
# python -c "import numba; print(f'Numbaç‰ˆæœ¬: {numba.__version__}')"

# ==========================================
# è®¾è®¡åŽŸåˆ™
# ==========================================
# 1. å…¼å®¹æ€§ä¼˜å…ˆï¼šæ”¯æŒæ‰€æœ‰CPUæž¶æž„
# 2. æ€§èƒ½ä¼˜åŒ–ï¼šå……åˆ†åˆ©ç”¨CPUå¤šæ ¸èƒ½åŠ›
# 3. èµ„æºå‹å¥½ï¼šå†…å­˜å’ŒCPUä½¿ç”¨ä¼˜åŒ–
# 4. æˆæœ¬æ•ˆç›Šï¼šæ— éœ€ä¸“é—¨ç¡¬ä»¶ï¼Œéƒ¨ç½²æˆæœ¬ä½Ž
