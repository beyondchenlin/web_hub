# 🚀 FunClip 第2层：GPU硬件加速层依赖
# Layer 2: GPU Hardware Acceleration Dependencies
# 
# 职责：提供NVIDIA GPU硬件加速支持
# 大小：约1GB
# 平台：NVIDIA GPU (CUDA 12.4+)

# ==========================================
# PyTorch GPU版本 (CUDA 12.4)
# ==========================================
--extra-index-url https://download.pytorch.org/whl/cu124
torch>=2.6.0+cu124,<3.0.0
torchaudio>=2.6.0+cu124,<3.0.0
torchvision>=0.21.0+cu124,<1.0.0

# ==========================================
# NVIDIA GPU监控和管理
# ==========================================
pynvml>=11.5.0,<13.0.0
GPUtil>=1.4.0,<2.0.0

# ==========================================
# GPU加速的科学计算
# ==========================================
numba>=0.58.0,<1.0.0
llvmlite>=0.40.0,<1.0.0

# ==========================================
# 音频处理GPU优化
# ==========================================
resampy>=0.4.0,<1.0.0

# ==========================================
# 视频处理GPU加速
# ==========================================
av>=10.0.0,<11.0.0

# ==========================================
# 图像处理GPU支持
# ==========================================
imageio>=2.31.0,<3.0.0

# ==========================================
# 版本说明
# ==========================================
# torch 2.6.0+cu124: 最新稳定版，支持CUDA 12.4
# pynvml: GPU监控，系统资源管理需要
# GPUtil: 轻量级GPU信息获取
# numba: JIT编译器，加速数值计算
# av: FFmpeg Python绑定，支持GPU编解码

# ==========================================
# 安装前提条件
# ==========================================
# 1. NVIDIA驱动版本 >= 470.57.02
# 2. CUDA Toolkit 12.4 (推荐) 或 11.8+
# 3. 验证CUDA: nvidia-smi
# 4. 先安装 requirements-01-base.txt

# ==========================================
# 验证GPU支持
# ==========================================
# python -c "import torch; print(f'CUDA可用: {torch.cuda.is_available()}')"
# python -c "import torch; print(f'GPU数量: {torch.cuda.device_count()}')"
# python -c "import GPUtil; print(f'GPU列表: {GPUtil.getGPUs()}')"

# ==========================================
# 设计原则
# ==========================================
# 1. 性能优先：选择最新稳定的GPU加速版本
# 2. 兼容性保证：支持主流CUDA版本
# 3. 监控完备：包含GPU状态监控工具
# 4. 精简高效：移除不必要的GPU库
